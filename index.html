	<!DOCTYPE HTML>

<html>
	<head>
		<title>Portfolio Artur Skrzeta</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<header>
					<span class="image avatar"><a href="https://arturskrzeta.github.io/"><img src="images/avatar.png" alt="" style="margin-bottom:0px"/></a></span>
					<h1 id="logo"><a href="https://arturskrzeta.github.io/">Artur Skrzeta</a></h1>
					<p>Data Analyst<br />
					+4 years experience</p>
				</header>
				<nav id="nav">
					<ul>
						<li><a href="#one" class="active">Intro</a></li>
						<li><a href="#two">Features</a></li>
						<li><a href="#three">Demo</a></li>
						<li><a href="#four">Setup</a></li>
						<li><a href="#five">Source Code</a></li>
					</ul>
				</nav>
				<footer>
					<ul class="icons">
						<li><a href="https://www.linkedin.com/in/artur-skrz%C4%99ta-010b23187/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a href="https://www.instagram.com/arturskrrr/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="https://github.com/ArturSkrzeta" class="icon brands fa-github"><span class="label">Github</span></a></li>
						<li><a href="mailto: arturskrzeta@gmail.com" class="icon solid fa-envelope"><span class="label">Email</span></a></li
					</ul>
				</footer>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="container">
									<header class="major">
										<h2>JS beyond a Browser</h2>
										<h3>Intro</h3>
										<p>NodeJS creates conditions to use JavaScript outside of a browser.Simply put, it is an open-source runtime system for making server to run JS applications.
											In the project, I build and deploy the REST API application to Heroku which is the cloud platform in the PaaS model.</p>

										<h5>REST API:</h5>
										<ul>
											<li>Web service APIs that adhere to the REST architectural constraints are called RESTful APIs.</li>
											<li>RESTful web service API allow requesting system to access or manipulate textual representation of web's resources.</li>
											<li>Requesting system has a set of uniform and predefined by API stateless operations.</li>
											<li>When we say that operation is stateless, it means next operation doesn't know about previous ones. In other words, operations on Web resources are independent.</li>
											<li>Requesting system can call available operations using HTTP requests: GET, HEAD, POST, PUT, PATCH, DELETE, CONNECT, OPTIONS and TRACE.</li>
											<li>RESTful Web service, makes web rosurces available under a specific Uniform Resource Identifier (URI) which is a string that provides a unique address where a resource can be found.</li>
											<li>Sending request to a resource's URI results with response in format of HTML, XML or JSON.</li>
											<li>In practice, when system or user is requesting, it sends chosen HTTP request under a specifed URI with defined parameters in form of JSON (when for example updating a resource).</li>
										</ul>

										<h5>ReactJS:</h5>
										<ul>
											<li>It is a JavaScript library for building an interactive User Interface for a web applications.</li>
											<li>It builds User Interface with single reposibility componenets that creates final look and functionality.</li>
											<li>However, it still needs to work on an engine that loads the app into a broswser.</li>
										</ul>

										<h5>NodeJS:</h5>
										<ul>
											<li>It works like the web-server that accepts API calls from a client/user.</li>
											<li>It loads single index.html of the React application with all the dependncies (CSS, JS) into a browser.</li>
											<li>Depending on the API call and path passed from an user, the appropriate React components fills the index.html what user sees on the screen.</li>
											<li>These components comes with textual representation of API resources that represents data in a database.</li>
											<li>Things like what resources (endpoint = path) are available and in which way (reqest type = type of API call) - they are handled by nodeJS server.</li>
										</ul>

										<h5>MongoDB Atlas:</h5>
										<ul>
											<li>The global cloud database service for modern applications.</li>
											<li>Strucutre of MongoDB Atlas is JOSN format alike.</li>
											<li>Connection to cloud database comes directly from nodeJS.</li>
										</ul>

										<h5>Heroku:</h5>
										<ul>
											<li>We can deploy our application into cloud platform.</li>
											<li>Heroku offers PaaS solutions for many programming languages.</li>
										</ul>

										<h5>Workflow:</h5>
										<ol>
											<li>User sends API call to a specific route (web path) from react web-application.</li>
											<li>NodeJs web-server accepts request and loads index.html of the React application to the screen.</li>
											<li>ReactJs reads passed route and based on that loads appropriate components into index.html.</li>
											<li>NodeJs, depending on the route and API call, sends the database resources that feeds React's front-end elements.</li>
											<li>User sees a complete application.</li>
										</ol>

									</header>
								</div>
							</section>

						<!-- Two -->
							<section id="two">
								<div class="container">
									<h3>Features</h3>
									<p>App includes following features:</p>
									<ul class="feature-icons">
										<li class="icon solid fa-check">NodeJs</li>
										<li class="icon solid fa-check">ReactJS</li>
										<li class="icon solid fa-check">MongoDB</li>
										<li class="icon solid fa-check">Heroku</li>
										<li class="icon solid fa-check">Git</li>
									</ul>
								</div>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="container">
									<h3>Demo</h3>

									<h5>Setting up nodejs server:</h5>
									<ul>
										<li>We can run server by running using <b>express</b> extension:
											<br>
											<code>const express = require('express')</code><br>
											<code>const port = 3000</code><br>
											<code>const app = express()</code><br>
											<code>...</code><br>
											<code>app.listen(port)</code>
										</li>
									</ul>

									<h5>HTML templates:</h5>
									<ul>
										<li>Html templates for being rendered to a browser are keptin in directory: './views'</li>
										<li>Html templates requires '.hbs' extension.</li>
										<li>We need to install hbs with npm.</li>
										<li>We let html template to be rendered for a specific endpoint, here '/home':
											<br>
											<code>app.set('view engine', 'hbs')</code><br>
											<code>app.get('/home', (req, res) => {</code><br>&nbsp&nbsp&nbsp
												<code>res.render('index')</code><br>
											<code>})</code>
									</li>
									</ul>

									<h5>HTTP request:</h5>
									<ul>
										<li>Which request is going to be handled by an enpoint is specified as app method:
											<br>
											<code>app.get('/home', (req, rest) => ... )</code>
										</li>
										<li>Besides get, there are also post, delete, patch (like update).</li>
									</ul>

									<h5>Connecting with MongoDB Atlas database:</h5>
									<ul>
										<li>At first we need to import mongoose:
											<br>
											<code>const mongoose = require('mongoose')</code><br>
										</li>
										<li>Then we can set up a connection:
											<br>
											<code>mongoose.set('useUnifiedTopology', true)</code><br>
											<code>mongoose.set('useNewUrlParser', true)</code><br>
											<code>mongoose.connect(process.env.DB_CONNECTION, function(err, db) {</code><br>&nbsp&nbsp
												<code>console.log('Connected to db.')</code><br>
											<code>})</code>
										</li>
									</ul>

									<h5>Deploying on Heroku:</h5>
									<ul>
										<li>It requires Heroku CLI installation in order to upload the application.</li>
										<li>It requires also git installation to commit the application to Heroku repository.</li>
										<li>Here goes deployment procedure:
											<br>
											in code:<br>
											<code>const port = process.env.PORT || 30000</code><br>
											in package.json:<br>
											<code>"start": "node main.js"</code>
											terminal:<br>
											<code>cd project</code><br>
											<code>heroku login</code><br>
											<code>git init</code><br>
											<code>heroku git:remote -a arturskrzeta</code><br>
											<code>git config user.email ...</code><br>
											<code>git config user.name ...</code><br>
											every time change in the project:<br>
											<code>git add .</code><br>
											<code>git commit -m "initial commit"</code><br>
											pushing changes to heroku repository:<br>
											<code>git push heroku master</code><br>
										</li>
										<li>App availabe at:
											<br>
											<code>arturskrzeta.herokuapp.com</code>
										</li>
										<li>Logs available with:
											<br>
											<code>heroku logs --tail</code>
										</li>
										<li>Push successful:
											<br>
											<img src="images/heroku.JPG" width="500">
										</li>
									</ul>

									<h5>Postman</h5>
									<ul>
										<li>I use Postman for resource's URIs testing.
											<br>
											<img src="images/postman.JPG" width="500">
										</li>
									</ul>

									<h5>Node and React integration:</h5>
									<ul>
										<li>Making NodeJS server listening on the port 3080.</li>
										<li>ReactJS runs on port 3000.</li>
										<li>We need to ensure interaction between these two setting up proxy in React's package.json:
											<br>
											<code>"proxy": "http://localhost:3080"</code>
										</li>
										<li>By doing so, we can be sure that all API calls will be directed from Reat Web-app to http://localhost:3080 where the nodeJS API is listening.</li>
										<li>In the project, React app has the sevice file which contains async functions that use fetch API to make the API calls to the node API.
											<br>
											<code>export async function createUser(data) {</code><br>&nbsp&nbsp
												<code>const response = await fetch('/api/user', {</code><br>&nbsp&nbsp&nbsp&nbsp
											  	<code>method: 'POST',</code><br>&nbsp&nbsp&nbsp&nbsp
											    <code>headers: {'Content-Type': 'application/json'},</code><br>&nbsp&nbsp&nbsp&nbsp
											    <code>body: JSON.stringify({user: data})</code><br>&nbsp&nbsp
											  <code>})</code><br>&nbsp&nbsp
											<code>return await response.json();</code><br>
											<code>}</code>
										</li>
										<li>POST workflow:
											<br>
											1. User filling up the form updates state in React web-app.<br>
											2. React web-app imports service function and passes state data as argument.<br>
											3. Service function makes API call to node API.<br>
											4. Service funcion's API call is actually the POST request with request's body which is passed React's state.<br>
											5. Node API accepts request and saves passed data to database and returns response in JSON.<br>
											6. React updates its state accordingly and renders the appropriate component to display graphical element along with updated data.
										</li>
										<li>GET workflow:
											<br>
											1. User sends GET request from React web-app.<br>
											2. React web-app imports service function that maeks API call to node API.<br>
											3. Service funcion's API call is actually the GET request.<br>
											4. Node API accepts request and fetch a data from the database.<br>
											5. Node API sends the response in JSON format to React web-app:
												<br>&nbsp&nbsp
												<code>{firstName: "user_fn", lastName: "user_ln", email: "usera@gmail.com"}</code><br>
											6. React web-app receives response and updates its state with it.<br>
											7. React web-app rerenders component to display the fetched data.
										</li>
									</ul>

									<h5>React state:</h5>
									<ul>
										<li>State is assigned to  a given class component.</li>
										<li>We can update state by executing some class functions or on some evens like user filling a form.</li>
										<li>Here is the example of updating state on every change on user's form:
											- it updated itself with each character provided in each field,<br>
											- thanks to that we can keep the input data in the state on an ongoing basis without even submitting by user,<br>
											- code:
												<br>
												<code>onChangeForm = (e) => {</code><br>&nbsp&nbsp&nbsp&nbsp
													<code>let user = this.state.user</code><br>&nbsp&nbsp&nbsp&nbsp
													<code>if (e.target.name === 'firstname') {</code><br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
														<code>user.firstName = e.target.value;</code><br>&nbsp&nbsp&nbsp&nbsp
													<code>} else if (e.target.name === 'lastname') {</code><br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
														<code>user.lastName = e.target.value;</code><br>&nbsp&nbsp&nbsp&nbsp
													<code>}</code><br>&nbsp&nbsp&nbsp&nbsp
													<code>this.setState({user})</code><br>
												<code>}</code><br>
												- the form's fields needs to be have names provided: firstname and lastname respectively.
											</li>
										</ul>

								</div>
							</section>


						<!-- Four -->
							<section id="four">
								<div class="container">
									<h3>Setup</h3>
									<h5>App installation:</h5>
									<ul>
										<li>Npm initialization:
											<br>
											<code>cd ./api</code>
											<br>
											<code>npm init</code>
										</li>
										<li>Npm extension installation:
											<br>
											<code>npm install express</code>
											<br>
											<code>npm install hbs</code>
											<br>
											<code>npm install nodeman</code>
											<br>
											<code>npm install mongodb</code>
											<br>
											<code>npm install dotenv</code>
											<br>
											<code>npm install body-parser</code>
											<br>
											<code>npm install bootstrap</code>
										</li>
										<li>Modifying package.json:
											<br>
											<code>"scripts": {</code><br>&nbsp&nbsp
												<code>"start": "node server.bundle.js",</code><br>&nbsp&nbsp
											 	<code>"build": "webpack",</code><br>&nbsp&nbsp
											 	<code>"dev": "nodemon ./main.js localhost 3080"</code><br>
											<code>}</code>
										</li>
										<li>Running nodeJS server:
											<br>
											<code>npm run dev</code>
										</li>
									</ul>
								</div>
							</section>

							<section id="five">
								<div class="container">
									<h3>Source Code</h3>
									<p>You can view the source code: <a href="https://github.com/ArturSkrzeta/JS-Beyond-a-Browser-with-NodeJS/tree/main/project">HERE</a></p>
									<p>&nbsp</p>
								</div>
							</section>

					</div>

				<!-- Footer -->
					<section id="footer">
						<div class="container">
							<a href="https://arturskrzeta.github.io/" style="padding-bottom:10px;">Back to Portfolio</a>
						</div>
					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
